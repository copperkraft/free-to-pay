(this["webpackJsonpfree-to-pay"]=this["webpackJsonpfree-to-pay"]||[]).push([[0],{48:function(e,t,r){},67:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),o=r(23),n=r.n(o),i=(r(48),r(17)),c=r(71),m=r(70),u=r(6),l=r(37),j=r(14),h=["Left"],b=r(2),g=r(68),O=function(e){var t=Object(a.useState)(!1),r=Object(u.a)(t,2),s=r[0],o=r[1],n=Array.isArray(e)?e:[e],i=Object(a.useCallback)((function(e){!s&&n.includes(e.code)&&o(!0)}),[].concat(Object(j.a)(n),[s])),c=Object(a.useCallback)((function(e){s&&n.includes(e.code)&&o(!1)}),[].concat(Object(j.a)(n),[s])),m=Object(a.useCallback)((function(){o(!1)}),[]);return Object(a.useEffect)((function(){return window.addEventListener("keydown",i),window.addEventListener("keyup",c),window.addEventListener("blur",m),function(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",c),window.removeEventListener("blur",m)}}),[i,c,m]),s},y=r(69),p=r(7),x=function(){var e=Object(a.useRef)(),t=Object(y.a)("/free-to-pay/models/pumpkman.glb"),r=t.nodes,s=t.materials;return Object(p.jsxs)("group",{ref:e,dispose:null,rotation:[0,-Math.PI/2,0],position:[0,-.5,0],children:[Object(p.jsxs)("group",{position:[-.2,2.41,0],scale:[.21,.21,.21],children:[Object(p.jsx)("mesh",{geometry:r.Cube.geometry,material:s.head}),Object(p.jsx)("mesh",{geometry:r.Cube_1.geometry,material:s.tail}),Object(p.jsx)("mesh",{geometry:r.Cube_2.geometry,material:s.eyes}),Object(p.jsx)("mesh",{geometry:r.Cube_3.geometry,material:s.body})]}),Object(p.jsx)("mesh",{geometry:r.vest.geometry,material:r.vest.material,position:[-.2,2.41,0],scale:[.21,.21,.21]}),Object(p.jsx)("mesh",{geometry:r.pants.geometry,material:r.pants.material,position:[-.2,2.41,0],scale:[.21,.21,.21]})]})};y.a.preload("/free-to-pay/models/pumpkman.glb");var d,f=[.5,.4,1.2],B=[.2,.1,.6];!function(e){e[e.IDLE=0]="IDLE",e[e.ACCELERATION=1]="ACCELERATION",e[e.RUN=2]="RUN",e[e.SLOWDOWN=3]="SLOWDOWN",e[e.MIN_SPEED=4]="MIN_SPEED"}(d||(d={}));var A=function(e){var t=e.moveTarget,r=Object(a.useRef)(null),s=O(["ArrowUp","KeyW"]),o=O(["ArrowDown","KeyS"]),n=O(["ArrowLeft","KeyA"]),c=O(["ArrowRight","KeyD"]),m=Object(a.useRef)(0),u=Object(l.a)({maxSpeed:10,minSpeed:1,acceleration:20,slowdown:20,rotationSpeed:5,useKeys:!1,useKeysTurningCoeff:50}),j=u.maxSpeed,h=u.minSpeed,y=u.acceleration,A=u.slowdown,w=u.rotationSpeed,E=u.useKeys,v=u.useKeysTurningCoeff,C=Object(a.useRef)(!1),S=Object(a.useRef)(d.IDLE),L=Object(a.useRef)(new b.Vector3(0,0,0)),R=Object(a.useRef)(new b.Vector3(0,0,0)),I=Object(a.useRef)(new b.Vector3(0,0,0)),k=Object(a.useRef)(0),D=Object(a.useRef)(0);return Object(a.useEffect)((function(){t&&!E&&(S.current!==d.IDLE&&S.current!==d.SLOWDOWN||(S.current=d.ACCELERATION),C.current=!0,t.setY(.75),R.current.subVectors(t,r.current.position).normalize(),I.current.copy(t),r.current.getWorldDirection(L.current),D.current=R.current.angleTo(L.current),R.current.clone().cross(L.current).y>0&&(D.current=-D.current))}),[t]),Object(i.b)((function(e,t){switch(E&&(s||n||c||o?(S.current!==d.IDLE&&S.current!==d.SLOWDOWN||(S.current=d.ACCELERATION),R.current.lerp(new b.Vector3(+c-n,0,+o-s).normalize(),1/v).normalize(),C.current=!0):S.current!==d.RUN&&S.current!==d.ACCELERATION||(S.current=d.SLOWDOWN)),S.current){case d.ACCELERATION:m.current+=y*t,m.current>=j&&(m.current=j,S.current=d.RUN);break;case d.RUN:break;case d.SLOWDOWN:m.current-=A*t,E?m.current<=0&&(m.current=0,S.current=d.IDLE):m.current<=h&&(m.current=h,S.current=d.MIN_SPEED);break;case d.MIN_SPEED:case d.IDLE:}if(S.current!==d.IDLE){if(!E){k.current=I.current.distanceTo(r.current.position),k.current<j*j/(2*A)&&(S.current=d.SLOWDOWN);var a=t*m.current;k.current<a?(r.current.position.copy(I.current),m.current=0,S.current=d.IDLE):r.current.position.addScaledVector(R.current,a)}if(E){var i=t*m.current;r.current.position.addScaledVector(R.current,i)}}if(C.current)if(E)r.current.setRotationFromAxisAngle(new b.Vector3(0,1,0),Math.atan2(R.current.x,R.current.z));else{r.current.getWorldDirection(L.current);var u=t*w;Math.abs(D.current)<u?(r.current.rotateOnAxis(new b.Vector3(0,1,0),D.current),C.current=!1):D.current>0?(D.current-=u,r.current.rotateOnAxis(new b.Vector3(0,1,0),u)):(D.current+=u,r.current.rotateOnAxis(new b.Vector3(0,1,0),-u))}})),Object(p.jsxs)("group",{ref:r,position:[0,.75,0],children:[Object(p.jsx)(g.a,{args:f,rotation:[Math.PI/2,0,0],position:[0,0,0],children:Object(p.jsx)("meshStandardMaterial",{attach:"material",color:"pink"})}),Object(p.jsx)(g.a,{args:[.2,.4,.8],rotation:[Math.PI/2,0,0],position:[0,.1,.75],children:Object(p.jsx)("meshStandardMaterial",{attach:"material",color:"pink"})}),Object(p.jsx)(g.a,{args:B,position:[.2,-.5,.3],children:Object(p.jsx)("meshStandardMaterial",{attach:"material",color:"pink"})}),Object(p.jsx)(g.a,{args:B,position:[-.2,-.5,.3],children:Object(p.jsx)("meshStandardMaterial",{attach:"material",color:"pink"})}),Object(p.jsx)(g.a,{args:B,position:[.2,-.5,-.2],children:Object(p.jsx)("meshStandardMaterial",{attach:"material",color:"pink"})}),Object(p.jsx)(g.a,{args:B,position:[-.2,-.5,-.2],children:Object(p.jsx)("meshStandardMaterial",{attach:"material",color:"pink"})}),Object(p.jsx)("group",{children:Object(p.jsx)(x,{})})]})},w=r(18),E=r.n(w),v=r(21),C=function(e){return new Promise((function(t,r){var a=new Image;a.onload=function(){return t(a)},a.onerror=r,a.src=e}))},S={"255,255,255,255":"\u2b1c","255,242,0,255":"\ud83c\udf3e","34,177,76,255":"\ud83c\udf32","181,230,29,255":"\ud83d\udfe9"},L=function(e,t){for(var r=[],a=0;a<e.length;a+=t)r.push(e.slice(a,a+t));return r},R=function(){var e=Object(v.a)(E.a.mark((function e(){var t,r,a,s,o,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAFeSURBVGhD7ZjBDcIwEAQDb1rgQwO8aALRCtVQCR+a4EUNtMAfdCEnnS72+ZBIvHY8UuQEEbLr3TgRq9319O4qYD2MxdOMoDG6Ry6Hx7CHzfm+H/a+1J/IcfPsR+b22vbjvz630LMdakm1iTQjU0JVkpuHlggazQga1RhpryhoLNcIRSo3FEwjSEJTmEZKufGJoBFOQibC+/IdaA6j3lYsa/n1zsrUWDqiRvgkGnOkFBJt6Yga4ZPmMqGFy+taSTCuas2BnjAp3jOZWY2wWD0SIfFWMtCrFgmP6dGmYKoVgk1YSTBQRqRgue9pSZZq6Rn2XJPOkd/TvwFdLYIFp8zCG7FSkECuWrpGIbSpn43k/nOb9Wkj0NXSYq1JLuI54gHOiE6Bj/XnGjgjOgU+TqUDv/wyRSUSqxVRVCKxWnmArlaoTrGKwT3ZSahHgzYEv2p5GSVSKsUsvymaESy67gMGb8CnCuHOmwAAAABJRU5ErkJggg==");case 2:if(t=e.sent,r=document.createElement("canvas"),a=r.getContext("2d")){e.next=7;break}return e.abrupt("return",[]);case 7:return s=t.width,o=t.height,a.drawImage(t,0,0,s,o),n=a.getImageData(0,0,s,o).data,e.abrupt("return",L(L(Array.from(n),4),s));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return e.abrupt("return",e.sent.map((function(e){return e.map((function(e){return e.join()})).map((function(e){return S[e]||(S[e]="?"),S[e]}))})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(a.useRef)(),t=Object(y.a)("/free-to-pay/models/farm.glb"),r=t.nodes,s=t.materials;return Object(p.jsxs)("group",{ref:e,dispose:null,children:[Object(p.jsx)("mesh",{geometry:r.ground.geometry,material:s.grass,position:[-4.4,0,-2.68],scale:[2,2,2]}),Object(p.jsxs)("group",{position:[21.62,6.01,-38.72],scale:[2,2,2],children:[Object(p.jsx)("mesh",{geometry:r.barn003_1.geometry,material:r.barn003_1.material}),Object(p.jsx)("mesh",{geometry:r.barn003_2.geometry,material:r.barn003_2.material})]}),Object(p.jsxs)("group",{position:[-28.46,6.01,-14.71],scale:[2,2,2],children:[Object(p.jsx)("mesh",{geometry:r.barn001_1.geometry,material:r.barn001_1.material}),Object(p.jsx)("mesh",{geometry:r.barn001_2.geometry,material:r.barn001_2.material})]}),Object(p.jsxs)("group",{position:[5.89,6.01,11.1],scale:[2,2,2],children:[Object(p.jsx)("mesh",{geometry:r.barn002_1.geometry,material:r.barn002_1.material}),Object(p.jsx)("mesh",{geometry:r.barn002_2.geometry,material:r.barn002_2.material})]}),Object(p.jsx)("mesh",{geometry:r.wheat1.geometry,material:r.wheat1.material,position:[-29.69,1,18.61],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.wheat2.geometry,material:r.wheat2.material,position:[-17.49,1,18.61],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.wheat4.geometry,material:r.wheat4.material,position:[-5.56,1,18.61],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.wheat3.geometry,material:r.wheat3.material,position:[6.37,1,18.61],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Corn1.geometry,material:r.Corn1.material,position:[-41.55,1,-39.58],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Corn2.geometry,material:r.Corn2.material,position:[-29.35,1,-39.58],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Corn4.geometry,material:r.Corn4.material,position:[-5.49,1,-39.58],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Corn3.geometry,material:r.Corn3.material,position:[-17.42,1,-39.58],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Hedge.geometry,material:r.Hedge.material,position:[-53.47,1,-51.5],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush001.geometry,material:r.Bush001.material,position:[-37.4,1,-3.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush002.geometry,material:r.Bush002.material,position:[-41.4,1,-3.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush003.geometry,material:r.Bush003.material,position:[-35.4,1,-5.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush004.geometry,material:r.Bush004.material,position:[-33.4,1,-9.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush005.geometry,material:r.Bush005.material,position:[-39.4,1,-9.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush006.geometry,material:r.Bush006.material,position:[-43.4,1,-9.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush007.geometry,material:r.Bush007.material,position:[-39.4,1,-13.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush008.geometry,material:r.Bush008.material,position:[8.6,1,2.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush009.geometry,material:r.Bush009.material,position:[12.6,1,2.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush010.geometry,material:r.Bush010.material,position:[14.6,1,-1.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush011.geometry,material:r.Bush011.material,position:[22.6,1,-3.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush012.geometry,material:r.Bush012.material,position:[26.6,1,-9.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush013.geometry,material:r.Bush013.material,position:[32.6,1,-5.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush014.geometry,material:r.Bush014.material,position:[28.6,1,-1.68],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush015.geometry,material:r.Bush015.material,position:[22.6,1,.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush016.geometry,material:r.Bush016.material,position:[16.6,1,2.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush017.geometry,material:r.Bush017.material,position:[16.6,1,8.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush018.geometry,material:r.Bush018.material,position:[22.6,1,8.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush019.geometry,material:r.Bush019.material,position:[24.6,1,4.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush020.geometry,material:r.Bush020.material,position:[28.6,1,6.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush021.geometry,material:r.Bush021.material,position:[32.6,1,2.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush022.geometry,material:r.Bush022.material,position:[30.6,1,10.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush023.geometry,material:r.Bush023.material,position:[26.6,1,12.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush024.geometry,material:r.Bush024.material,position:[32.6,1,14.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush025.geometry,material:r.Bush025.material,position:[32.6,1,18.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush026.geometry,material:r.Bush026.material,position:[20.6,1,16.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush027.geometry,material:r.Bush027.material,position:[24.6,1,20.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush028.geometry,material:r.Bush028.material,position:[26.6,1,24.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush029.geometry,material:r.Bush029.material,position:[30.6,1,24.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush030.geometry,material:r.Bush030.material,position:[18.6,1,24.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush031.geometry,material:r.Bush031.material,position:[16.6,1,30.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush032.geometry,material:r.Bush032.material,position:[24.6,1,30.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush033.geometry,material:r.Bush033.material,position:[30.6,1,28.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush034.geometry,material:r.Bush034.material,position:[34.6,1,34.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush035.geometry,material:r.Bush035.material,position:[24.6,1,34.32],scale:[2,2,2]}),Object(p.jsx)("mesh",{geometry:r.Bush036.geometry,material:r.Bush036.material,position:[18.6,1,36.32],scale:[2,2,2]})]})};y.a.preload("/free-to-pay/models/farm.glb");var D,N=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),r=t[0],s=t[1];Object(a.useEffect)((function(){I().then((function(e){return s(e)}))}));Object(a.useMemo)((function(){var e;return[r.length,(null===(e=r[0])||void 0===e?void 0:e.length)||0]}),[r]);return Object(p.jsx)("group",{children:Object(p.jsx)(k,{})})},M=function(e){var t=e.children,r=function(e){var t=Object(a.useState)(!1),r=Object(u.a)(t,2),s=r[0],o=r[1],n=Array.isArray(e)?e:[e],i=Object(a.useCallback)((function(e){!s&&n.includes(h[e.button])&&o(!0)}),[].concat(Object(j.a)(n),[s]));return Object(a.useEffect)((function(){return window.addEventListener("mouseup",i),function(){window.removeEventListener("mouseup",i)}}),[i]),s}(["Left"]),s=Object(a.useState)(!1),o=Object(u.a)(s,2),n=o[0],c=o[1],m=Object(l.a)({followMouse:!1}).followMouse,b=Object(a.useState)(null),g=Object(u.a)(b,2),O=g[0],y=g[1];Object(a.useCallback)((function(e){m&&c(!0),y(e)}),[m,n]),Object(a.useCallback)((function(e){m&&n&&y(e)}),[m,n]);return Object(i.b)((function(){r&&n&&c(!1)})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{}),Object(p.jsx)("pointLight",{color:"white",intensity:2,position:[10,20,5]}),Object(p.jsx)("ambientLight",{color:"yellow",intensity:.2}),Object(p.jsx)(A,{moveTarget:O}),t]})},W=function(){return Object(p.jsxs)(i.a,{onCreated:function(e){e.gl.setClearColor("#000000")},children:[Object(p.jsx)("axesHelper",{}),Object(p.jsx)(c.a,{makeDefault:!0,position:[0,40,25],zoom:1.5}),Object(p.jsx)(m.a,{enabled:!0}),Object(p.jsx)(a.Suspense,{fallback:null,children:Object(p.jsx)(M,{})})]})},T=function(){return Object(p.jsx)("div",{style:{height:"100vh",width:"100vw"},children:Object(p.jsx)(W,{})})};n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),D&&D instanceof Function&&r.e(3).then(r.bind(null,72)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;t(D),r(D),a(D),s(D),o(D)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.5331984b.chunk.js.map