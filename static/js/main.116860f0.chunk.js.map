{"version":3,"sources":["utils/useKeyPress.ts","models/Pumpkman.tsx","models/Pig.tsx","components/Character.tsx","utils/levelConverter.ts","data/farm.png","models/Farm.tsx","components/Level.tsx","components/EventPlane.tsx","models/Pointer.tsx","components/GameScene.tsx","reportWebVitals.ts","core/Game.tsx","App.tsx","index.tsx"],"names":["useKeyPress","key","useState","isDown","set","keys","Array","isArray","handleKeyDown","useCallback","event","includes","code","handleKeyUp","handleWindowBlur","useEffect","window","addEventListener","removeEventListener","Pumpkman","group","useRef","useGLTF","nodes","materials","ref","dispose","rotation","Math","PI","position","scale","geometry","Cube","material","head","Cube_1","tail","Cube_2","eyes","Cube_3","body","vest","pants","preload","pigSize","pigLegSize","Pig","args","attach","color","Character","character","up","down","left","right","velocity","Vector3","rotationDirection","useControls","speed","inertia","turningSpeed","useFrame","state","delta","current","lerp","normalize","length","setRotationFromAxisAngle","atan2","x","z","addScaledVector","loadImage","src","Promise","resolve","reject","img","Image","onload","onerror","colorMap","splitArray","array","chunkSize","result","i","push","slice","parseImage","a","image","inputCanvas","document","createElement","context","getContext","width","height","drawImage","imageData","getImageData","data","from","mapImageToLevel","map","row","item","join","Farm","ground","grass","barn003_1","barn003_2","barn001_1","barn001_2","barn002_1","barn002_2","wheat1","wheat2","wheat4","wheat3","Corn1","Corn2","Corn4","Corn3","Hedge","Bush001","Bush002","Bush003","Bush004","Bush005","Bush006","Bush007","Bush008","Bush009","Bush010","Bush011","Bush012","Bush013","Bush014","Bush015","Bush016","Bush017","Bush018","Bush019","Bush020","Bush021","Bush022","Bush023","Bush024","Bush025","Bush026","Bush027","Bush028","Bush029","Bush030","Bush031","Bush032","Bush033","Bush034","Bush035","Bush036","Level","level","setLevel","then","loadedLevel","useMemo","EventPlane","size","onPointerDown","onPointerMove","onPointerUp","onPointerLeave","visible","roughness","metalness","opacity","transparent","wireframe","Pointer","pointer","cone","clock","rotateY","setY","sin","elapsedTime","point","circle","onPerfEntry","GameScene","children","interestPoint","camera","clone","add","toArray","lookAt","intensity","PerspectiveCamera","makeDefault","zoom","Game","onCreated","gl","setClearColor","MapControls","enabled","fallback","App","style","ReactDOM","render","StrictMode","getElementById","Function","getCLS","getFID","getFCP","getLCP","getTTFB"],"mappings":"gPAEaA,EAAc,SAACC,GAAqC,IAAD,EACxCC,oBAAS,GAD+B,mBACvDC,EADuD,KAC/CC,EAD+C,KAExDC,EAAOC,MAAMC,QAAQN,GAAOA,EAAM,CAACA,GAEnCO,EAAgBC,uBACpB,SAACC,IACMP,GAAUE,EAAKM,SAASD,EAAME,OACjCR,GAAI,KAHuB,sBAM3BC,GAN2B,CAMrBF,KAENU,EAAcJ,uBAClB,SAACC,GACKP,GAAUE,EAAKM,SAASD,EAAME,OAChCR,GAAI,KAHqB,sBAMzBC,GANyB,CAMnBF,KAGNW,EAAmBL,uBAAY,WACnCL,GAAI,KACH,IAaH,OAXAW,qBAAU,WAIR,OAHAC,OAAOC,iBAAiB,UAAWT,GACnCQ,OAAOC,iBAAiB,QAASJ,GACjCG,OAAOC,iBAAiB,OAAQH,GACzB,WACLE,OAAOE,oBAAoB,UAAWV,GACtCQ,OAAOE,oBAAoB,QAASL,GACpCG,OAAOE,oBAAoB,OAAQJ,MAEpC,CAACN,EAAeK,EAAaC,IAEzBX,G,eCVIgB,EAAW,WACtB,IAAMC,EAAQC,mBADc,EAECC,YAAQ,oCAA7BC,EAFoB,EAEpBA,MAAOC,EAFa,EAEbA,UACf,OACE,wBAAOC,IAAKL,EAAOM,QAAS,KAAMC,SAAU,CAAC,GAAIC,KAAKC,GAAK,EAAG,GAAIC,SAAU,CAAC,GAAI,GAAK,GAAtF,UACE,wBAAOA,SAAU,EAAE,GAAK,KAAM,GAAIC,MAAO,CAAC,IAAM,IAAM,KAAtD,UACE,sBAAMC,SAAUT,EAAMU,KAAKD,SAAUE,SAAUV,EAAUW,OACzD,sBAAMH,SAAUT,EAAMa,OAAOJ,SAAUE,SAAUV,EAAUa,OAC3D,sBAAML,SAAUT,EAAMe,OAAON,SAAUE,SAAUV,EAAUe,OAC3D,sBAAMP,SAAUT,EAAMiB,OAAOR,SAAUE,SAAUV,EAAUiB,UAE7D,sBACET,SAAUT,EAAMmB,KAAKV,SACrBE,SAAUX,EAAMmB,KAAKR,SACrBJ,SAAU,EAAE,GAAK,KAAM,GACvBC,MAAO,CAAC,IAAM,IAAM,OAEtB,sBACEC,SAAUT,EAAMoB,MAAMX,SACtBE,SAAUX,EAAMoB,MAAMT,SACtBJ,SAAU,EAAE,GAAK,KAAM,GACvBC,MAAO,CAAC,IAAM,IAAM,WAM5BT,IAAQsB,QAAQ,oC,YCpDVC,EAAoC,CAAC,GAAK,GAAK,KAC/CC,EAAuC,CAAC,GAAK,GAAK,IAE3CC,EAAM,kBACjB,qCACE,cAAC,IAAD,CAAUC,KAAMH,EAASlB,SAAU,CAACC,KAAKC,GAAK,EAAG,EAAG,GAAIC,SAAU,CAAC,EAAG,EAAG,GAAzE,SACE,sCAAsBmB,OAAO,WAAWC,MAAM,WAEhD,cAAC,IAAD,CAAUF,KAAM,CAAC,GAAK,GAAK,IAAMrB,SAAU,CAACC,KAAKC,GAAK,EAAG,EAAG,GAAIC,SAAU,CAAC,EAAG,GAAK,KAAnF,SACE,sCAAsBmB,OAAO,WAAWC,MAAM,WAEhD,cAAC,IAAD,CAAUF,KAAMF,EAAYhB,SAAU,CAAC,IAAM,GAAK,IAAlD,SACE,sCAAsBmB,OAAO,WAAWC,MAAM,WAEhD,cAAC,IAAD,CAAUF,KAAMF,EAAYhB,SAAU,EAAE,IAAM,GAAK,IAAnD,SACE,sCAAsBmB,OAAO,WAAWC,MAAM,WAEhD,cAAC,IAAD,CAAUF,KAAMF,EAAYhB,SAAU,CAAC,IAAM,IAAM,IAAnD,SACE,sCAAsBmB,OAAO,WAAWC,MAAM,WAEhD,cAAC,IAAD,CAAUF,KAAMF,EAAYhB,SAAU,EAAE,IAAM,IAAM,IAApD,SACE,sCAAsBmB,OAAO,WAAWC,MAAM,eCZvCC,EAAsC,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,UAC9CC,EAAKrD,EAAY,CAAC,UAAW,SAC7BsD,EAAOtD,EAAY,CAAC,YAAa,SACjCuD,EAAOvD,EAAY,CAAC,YAAa,SACjCwD,EAAQxD,EAAY,CAAC,aAAc,SAEnCyD,EAAWpC,iBAAO,IAAIqC,UAAQ,EAAG,EAAG,IACpCC,EAAoBtC,iBAAO,IAAIqC,UAAQ,EAAG,EAAG,IAPiC,EAYhFE,YAAY,CACdC,MAAO,GACPC,QAAS,EACTC,aAAc,KANdF,EATkF,EASlFA,MACAC,EAVkF,EAUlFA,QACAC,EAXkF,EAWlFA,aA2BF,OApBAC,aAAS,SAACC,EAAOC,GACfT,EAASU,QAAQC,KAAK,IAAIV,WACbF,EAATD,EACF,GACSD,EAAPD,GACFgB,YAAa,EAAIP,EAAUD,GAEzBJ,EAASU,QAAQG,SAAW,GAC9Bb,EAASU,QAAQE,YAGnBV,EAAkBQ,QAAQE,YAAYD,KAAKX,EAASU,QAASJ,EAAeG,GAE5Ed,EAAUe,QAAQI,yBAChB,IAAIb,UAAQ,EAAG,EAAG,GAClB9B,KAAK4C,MAAMb,EAAkBQ,QAAQM,EAAGd,EAAkBQ,QAAQO,IAEpEtB,EAAUe,QAAQrC,SAAS6C,gBAAgBlB,EAASU,QAASD,EAAQL,MAIrE,wBAAOpC,IAAK2B,EAAWtB,SAAU,CAAC,EAAG,IAAM,GAA3C,UACE,cAAC,EAAD,IACA,cAAC,EAAD,Q,yBCnDA8C,EAAwD,SAACC,GAAD,OAAS,IAAIC,SAAQ,SACjFC,EACAC,GAEA,IAAMC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,kBAAMJ,EAAQE,IAC3BA,EAAIG,QAAUJ,EACdC,EAAIJ,IAAMA,MAGNQ,EAAsC,CAC1C,kBAAmB,SACnB,gBAAiB,eACjB,gBAAiB,eACjB,iBAAkB,gBAGdC,EAGO,SAACC,EAAOC,GAEnB,IADA,IAAMC,EAAS,GACNC,EAAI,EAAGA,EAAIH,EAAMjB,OAAQoB,GAAKF,EACrCC,EAAOE,KAAKJ,EAAMK,MAAMF,EAAGA,EAAIF,IAEjC,OAAOC,GAGII,EAAU,uCAAG,sCAAAC,EAAA,sEACJlB,EC/BP,8nBD8BW,UAClBmB,EADkB,OAElBC,EAAcC,SAASC,cAAc,UACrCC,EAAUH,EAAYI,WAAW,MAHf,yCAID,IAJC,cAKhBC,EAAkBN,EAAlBM,MAAOC,EAAWP,EAAXO,OACfH,EAAQI,UAAUR,EAAO,EAAG,EAAGM,EAAOC,GAChCE,EAAYL,EAAQM,aAAa,EAAG,EAAGJ,EAAOC,GAAQI,KAPpC,kBAQjBpB,EAAWA,EAAWhF,MAAMqG,KAAKH,GAAY,GAAIH,IARhC,4CAAH,qDAWVO,EAAe,uCAAG,sBAAAd,EAAA,sEAAmBD,IAAnB,uCAC5BgB,KAAI,SAACC,GAAD,OAASA,EACXD,KAAI,SAACE,GAAD,OAAUA,EAAKC,UACnBH,KAAI,SAACE,GAIJ,OAHK1B,EAAS0B,KACZ1B,EAAS0B,GAAQ,KAEZ1B,EAAS0B,UAPS,2CAAH,qDEiCfE,EAAO,WAClB,IAAM7F,EAAQC,mBADU,EAEKC,YAAQ,gCAA7BC,EAFgB,EAEhBA,MAAOC,EAFS,EAETA,UACf,OACE,wBAAOC,IAAKL,EAAOM,QAAS,KAA5B,UACE,sBACEM,SAAUT,EAAM2F,OAAOlF,SACvBE,SAAUV,EAAU2F,MACpBrF,SAAU,EAAE,IAAK,GAAI,MACrBC,MAAO,CAAC,EAAG,EAAG,KAEhB,wBAAOD,SAAU,CAAC,MAAO,MAAO,OAAQC,MAAO,CAAC,EAAG,EAAG,GAAtD,UACE,sBAAMC,SAAUT,EAAM6F,UAAUpF,SAAUE,SAAUX,EAAM6F,UAAUlF,WACpE,sBAAMF,SAAUT,EAAM8F,UAAUrF,SAAUE,SAAUX,EAAM8F,UAAUnF,cAEtE,wBAAOJ,SAAU,EAAE,MAAO,MAAO,OAAQC,MAAO,CAAC,EAAG,EAAG,GAAvD,UACE,sBAAMC,SAAUT,EAAM+F,UAAUtF,SAAUE,SAAUX,EAAM+F,UAAUpF,WACpE,sBAAMF,SAAUT,EAAMgG,UAAUvF,SAAUE,SAAUX,EAAMgG,UAAUrF,cAEtE,wBAAOJ,SAAU,CAAC,KAAM,KAAM,MAAOC,MAAO,CAAC,EAAG,EAAG,GAAnD,UACE,sBAAMC,SAAUT,EAAMiG,UAAUxF,SAAUE,SAAUX,EAAMiG,UAAUtF,WACpE,sBAAMF,SAAUT,EAAMkG,UAAUzF,SAAUE,SAAUX,EAAMkG,UAAUvF,cAEtE,sBACEF,SAAUT,EAAMmG,OAAO1F,SACvBE,SAAUX,EAAMmG,OAAOxF,SACvBJ,SAAU,EAAE,MAAO,EAAG,OACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMoG,OAAO3F,SACvBE,SAAUX,EAAMoG,OAAOzF,SACvBJ,SAAU,EAAE,MAAO,EAAG,OACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMqG,OAAO5F,SACvBE,SAAUX,EAAMqG,OAAO1F,SACvBJ,SAAU,EAAE,KAAM,EAAG,OACrBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMsG,OAAO7F,SACvBE,SAAUX,EAAMsG,OAAO3F,SACvBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMuG,MAAM9F,SACtBE,SAAUX,EAAMuG,MAAM5F,SACtBJ,SAAU,EAAE,MAAO,GAAI,OACvBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMwG,MAAM/F,SACtBE,SAAUX,EAAMwG,MAAM7F,SACtBJ,SAAU,EAAE,MAAO,GAAI,OACvBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMyG,MAAMhG,SACtBE,SAAUX,EAAMyG,MAAM9F,SACtBJ,SAAU,EAAE,KAAM,GAAI,OACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM0G,MAAMjG,SACtBE,SAAUX,EAAM0G,MAAM/F,SACtBJ,SAAU,EAAE,MAAO,GAAI,OACvBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM2G,MAAMlG,SACtBE,SAAUX,EAAM2G,MAAMhG,SACtBJ,SAAU,EAAE,MAAO,GAAI,MACvBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM4G,QAAQnG,SACxBE,SAAUX,EAAM4G,QAAQjG,SACxBJ,SAAU,EAAE,KAAM,GAAI,MACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM6G,QAAQpG,SACxBE,SAAUX,EAAM6G,QAAQlG,SACxBJ,SAAU,EAAE,KAAM,GAAI,MACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM8G,QAAQrG,SACxBE,SAAUX,EAAM8G,QAAQnG,SACxBJ,SAAU,EAAE,KAAM,GAAI,MACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM+G,QAAQtG,SACxBE,SAAUX,EAAM+G,QAAQpG,SACxBJ,SAAU,EAAE,KAAM,GAAI,MACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMgH,QAAQvG,SACxBE,SAAUX,EAAMgH,QAAQrG,SACxBJ,SAAU,EAAE,KAAM,GAAI,MACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMiH,QAAQxG,SACxBE,SAAUX,EAAMiH,QAAQtG,SACxBJ,SAAU,EAAE,KAAM,GAAI,MACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMkH,QAAQzG,SACxBE,SAAUX,EAAMkH,QAAQvG,SACxBJ,SAAU,EAAE,KAAM,GAAI,OACtBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMmH,QAAQ1G,SACxBE,SAAUX,EAAMmH,QAAQxG,SACxBJ,SAAU,CAAC,IAAK,EAAG,MACnBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMoH,QAAQ3G,SACxBE,SAAUX,EAAMoH,QAAQzG,SACxBJ,SAAU,CAAC,KAAM,EAAG,MACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMqH,QAAQ5G,SACxBE,SAAUX,EAAMqH,QAAQ1G,SACxBJ,SAAU,CAAC,KAAM,GAAI,MACrBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMsH,QAAQ7G,SACxBE,SAAUX,EAAMsH,QAAQ3G,SACxBJ,SAAU,CAAC,KAAM,GAAI,MACrBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMuH,QAAQ9G,SACxBE,SAAUX,EAAMuH,QAAQ5G,SACxBJ,SAAU,CAAC,KAAM,GAAI,MACrBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMwH,QAAQ/G,SACxBE,SAAUX,EAAMwH,QAAQ7G,SACxBJ,SAAU,CAAC,KAAM,GAAI,MACrBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMyH,QAAQhH,SACxBE,SAAUX,EAAMyH,QAAQ9G,SACxBJ,SAAU,CAAC,KAAM,GAAI,MACrBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM0H,QAAQjH,SACxBE,SAAUX,EAAM0H,QAAQ/G,SACxBJ,SAAU,CAAC,KAAM,EAAG,KACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM2H,QAAQlH,SACxBE,SAAUX,EAAM2H,QAAQhH,SACxBJ,SAAU,CAAC,KAAM,EAAG,MACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM4H,QAAQnH,SACxBE,SAAUX,EAAM4H,QAAQjH,SACxBJ,SAAU,CAAC,KAAM,EAAG,MACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM6H,QAAQpH,SACxBE,SAAUX,EAAM6H,QAAQlH,SACxBJ,SAAU,CAAC,KAAM,EAAG,MACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM8H,QAAQrH,SACxBE,SAAUX,EAAM8H,QAAQnH,SACxBJ,SAAU,CAAC,KAAM,EAAG,MACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM+H,QAAQtH,SACxBE,SAAUX,EAAM+H,QAAQpH,SACxBJ,SAAU,CAAC,KAAM,EAAG,MACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMgI,QAAQvH,SACxBE,SAAUX,EAAMgI,QAAQrH,SACxBJ,SAAU,CAAC,KAAM,EAAG,MACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMiI,QAAQxH,SACxBE,SAAUX,EAAMiI,QAAQtH,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMkI,QAAQzH,SACxBE,SAAUX,EAAMkI,QAAQvH,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMmI,QAAQ1H,SACxBE,SAAUX,EAAMmI,QAAQxH,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMoI,QAAQ3H,SACxBE,SAAUX,EAAMoI,QAAQzH,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMqI,QAAQ5H,SACxBE,SAAUX,EAAMqI,QAAQ1H,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMsI,QAAQ7H,SACxBE,SAAUX,EAAMsI,QAAQ3H,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMuI,QAAQ9H,SACxBE,SAAUX,EAAMuI,QAAQ5H,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMwI,QAAQ/H,SACxBE,SAAUX,EAAMwI,QAAQ7H,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAMyI,QAAQhI,SACxBE,SAAUX,EAAMyI,QAAQ9H,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM0I,QAAQjI,SACxBE,SAAUX,EAAM0I,QAAQ/H,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM2I,QAAQlI,SACxBE,SAAUX,EAAM2I,QAAQhI,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM4I,QAAQnI,SACxBE,SAAUX,EAAM4I,QAAQjI,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM6I,QAAQpI,SACxBE,SAAUX,EAAM6I,QAAQlI,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM8I,QAAQrI,SACxBE,SAAUX,EAAM8I,QAAQnI,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,KAEhB,sBACEC,SAAUT,EAAM+I,QAAQtI,SACxBE,SAAUX,EAAM+I,QAAQpI,SACxBJ,SAAU,CAAC,KAAM,EAAG,OACpBC,MAAO,CAAC,EAAG,EAAG,SAMtBT,IAAQsB,QAAQ,gCC7WT,IAAM2H,EAAkB,WAAO,IAAD,EACTrK,mBAAqB,IADZ,mBAC5BsK,EAD4B,KACrBC,EADqB,KAGnC1J,qBAAU,WACR6F,IAAkB8D,MAAK,SAACC,GAAD,OAAiBF,EAASE,SAItCC,mBAA0B,uBAAO,CAC5CJ,EAAMlG,QACN,UAAAkG,EAAM,UAAN,eAAUlG,SAAU,KAClB,CAACkG,IAEL,OACE,gCACE,cAAC,EAAD,OCTOK,EAAmC,SAAC,GAAD,oBAC9CC,KAD8C,GACvCzE,EADuC,KAChCC,EADgC,SAE9CyE,qBAF8C,MAE9B,kBAAM,MAFwB,MAG9CC,qBAH8C,MAG9B,kBAAM,MAHwB,MAI9CC,mBAJ8C,MAIhC,kBAAM,MAJ0B,MAK9CC,sBAL8C,MAK7B,kBAAM,MALuB,SAO9C,cAAC,IAAD,CACEvJ,SAAU,EAAEC,KAAKC,GAAK,EAAG,EAAGD,KAAKC,GAAK,GACtCmB,KAAM,CAACsD,EAAQD,GACfvE,SAAU,CAAC,EAAG,EAAG,GACjBqJ,SAAS,EACTJ,cAAeA,EACfC,cAAeA,EACfC,YAAaA,EACbC,eAAgBA,EARlB,SAUE,sCACEjI,OAAO,WACPmI,UAAW,EACXC,UAAW,EACXC,QAAS,EACTC,aAAW,EACXC,WAAS,OCZFC,EAAkC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QACxCnK,EAAUD,YAAQ,mCAAlBC,MACFoK,EAAOtK,iBAAa,MAO1B,OALA2C,aAAS,WAAYE,GAAW,IAApB0H,EAAmB,EAAnBA,MACVF,EAAQvH,QAAQ0H,QAAgB,EAAR3H,GACxByH,EAAKxH,QAAQrC,SAASgK,KAAuC,GAAlClK,KAAKmK,IAAwB,EAApBH,EAAMI,aAAyB,MAInE,wBAAOjK,MAAO,CAAC,EAAG,EAAG,GAAIN,IAAKiK,EAAShK,QAAS,KAAhD,UACE,sBAAMM,SAAUT,EAAM0K,MAAMjK,SAAUE,SAAUX,EAAM0K,MAAM/J,WAC5D,sBACET,IAAKkK,EACL3J,SAAUT,EAAMoK,KAAK3J,SACrBE,SAAUX,EAAMoK,KAAKzJ,SACrBJ,SAAU,CAAC,EAAG,KAAM,GACpBC,MAAO,CAAC,KAAO,IAAM,OAEvB,sBAAMC,SAAUT,EAAM2K,OAAOlK,SAAUE,SAAUX,EAAM2K,OAAOhK,eAKpEZ,IAAQsB,QAAQ,mCCpCT,ICTyBuJ,EDSnBC,EAAsC,SAAC,GAEV,IADxCC,EACuC,EADvCA,SAEMjJ,EAAY/B,iBAAc,MAC1BqK,EAAUrK,iBAAc,MACxBiL,EAAgBjL,iBAAO,IAAIqC,UAAQ,EAAG,EAAG,IAiB/C,OAXAM,aAAS,YAAiB,IAAD,EAAbuI,EAAa,EAAbA,OACVD,EAAcnI,QAAQC,KACpBsH,EAAQvH,QAAQrC,SAAS0K,QAAQpI,KAAKhB,EAAUe,QAAQrC,SAAU,EAAI,GACtE,MAGF,EAAAyK,EAAOzK,UAAS1B,IAAhB,oBAAuB,IAAIsD,UAAQ,EAAG,GAAI,IAAI+I,IAAIH,EAAcnI,SAASuI,YAEzEH,EAAOI,OAAOL,EAAcnI,YAI5B,qCACE,cAAC,EAAD,IACA,4BAAYjB,MAAM,QAAQ0J,UAAW,EAAG9K,SAAU,CAAC,GAAI,GAAI,KAC3D,cAAC+K,EAAA,EAAD,CAAmBC,aAAW,EAAChL,SAAU,CAAC,EAAG,GAAI,IAAKiL,KAAM,MAC5D,8BAAc7J,MAAM,SAAS0J,UAAW,KACxC,gCACE,cAAC,EAAD,CACE9B,KAAM,CAAC,IAAK,KACZE,cAxBc,SAACtK,GAAqC,IAAD,GACzD,EAAAgL,EAAQvH,QAAQrC,UAAS1B,IAAzB,oBAAgCM,EAAMuL,MAAMS,iBA0B1C,cAAC,EAAD,CAAShB,QAASA,IAClB,cAAC,EAAD,CAAWtI,UAAWA,IACrBiJ,ME1CMW,EAAiB,kBAC5B,eAAC,IAAD,CACEC,UAAW,YAAY,EAATC,GACTC,cAAc,YAFrB,UAKE,cAACC,EAAA,EAAD,CAAaC,SAAS,IACtB,cAAC,WAAD,CAAUC,SAAU,KAApB,SACE,cAAC,EAAD,UCVOC,EAAM,kBACjB,qBACEC,MAAO,CACLlH,OAAQ,QACRD,MAAO,SAHX,SAME,cAAC,EAAD,OCJJoH,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1H,SAAS2H,eAAe,SHPpBzB,GAAeA,aAAuB0B,UACxC,6BAAqBnD,MAAK,YAEnB,IADLoD,EACI,EADJA,OAAQC,EACJ,EADIA,OAAQC,EACZ,EADYA,OAAQC,EACpB,EADoBA,OAAQC,EAC5B,EAD4BA,QAEhCJ,EAAO3B,GACP4B,EAAO5B,GACP6B,EAAO7B,GACP8B,EAAO9B,GACP+B,EAAQ/B,Q","file":"static/js/main.116860f0.chunk.js","sourcesContent":["import { useCallback, useEffect, useState } from 'react';\n\nexport const useKeyPress = (key: string | string[]): boolean => {\n  const [isDown, set] = useState(false);\n  const keys = Array.isArray(key) ? key : [key];\n\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent) => {\n      if (!isDown && keys.includes(event.code)) {\n        set(true);\n      }\n    },\n    [...keys, isDown],\n  );\n  const handleKeyUp = useCallback(\n    (event: KeyboardEvent) => {\n      if (isDown && keys.includes(event.code)) {\n        set(false);\n      }\n    },\n    [...keys, isDown],\n  );\n\n  const handleWindowBlur = useCallback(() => {\n    set(false);\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n    window.addEventListener('blur', handleWindowBlur);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n      window.removeEventListener('blur', handleWindowBlur);\n    };\n  }, [handleKeyDown, handleKeyUp, handleWindowBlur]);\n\n  return isDown;\n};\n","/*\nAuto-generated by: https://github.com/pmndrs/gltfjsx\n*/\n\nimport * as THREE from 'three';\nimport React, { useRef } from 'react';\nimport { useGLTF } from '@react-three/drei';\nimport { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';\n\ntype GLTFResult = GLTF & {\n  nodes: {\n    Cube: THREE.Mesh\n    Cube_1: THREE.Mesh\n    Cube_2: THREE.Mesh\n    Cube_3: THREE.Mesh\n    vest: THREE.Mesh\n    pants: THREE.Mesh\n    pig: THREE.Mesh\n  }\n  materials: {\n    head: THREE.MeshStandardMaterial\n    tail: THREE.MeshStandardMaterial\n    eyes: THREE.MeshStandardMaterial\n    body: THREE.MeshStandardMaterial\n    vest: THREE.MeshStandardMaterial\n  }\n};\n\nexport const Pumpkman = () => {\n  const group = useRef<THREE.Group>();\n  const { nodes, materials } = useGLTF('/free-to-pay/models/pumpkman.glb') as GLTFResult;\n  return (\n    <group ref={group} dispose={null} rotation={[0, -Math.PI / 2, 0]} position={[0, -0.5, 0]}>\n      <group position={[-0.2, 2.41, 0]} scale={[0.21, 0.21, 0.21]}>\n        <mesh geometry={nodes.Cube.geometry} material={materials.head} />\n        <mesh geometry={nodes.Cube_1.geometry} material={materials.tail} />\n        <mesh geometry={nodes.Cube_2.geometry} material={materials.eyes} />\n        <mesh geometry={nodes.Cube_3.geometry} material={materials.body} />\n      </group>\n      <mesh\n        geometry={nodes.vest.geometry}\n        material={nodes.vest.material}\n        position={[-0.2, 2.41, 0]}\n        scale={[0.21, 0.21, 0.21]}\n      />\n      <mesh\n        geometry={nodes.pants.geometry}\n        material={nodes.pants.material}\n        position={[-0.2, 2.41, 0]}\n        scale={[0.21, 0.21, 0.21]}\n      />\n    </group>\n  );\n};\n\nuseGLTF.preload('/free-to-pay/models/pumpkman.glb');\n","import React from 'react';\nimport { Cylinder } from '@react-three/drei';\n\nconst pigSize: [number, number, number] = [0.5, 0.4, 1.2];\nconst pigLegSize: [number, number, number] = [0.2, 0.1, 0.6];\n\nexport const Pig = () => (\n  <>\n    <Cylinder args={pigSize} rotation={[Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n      <meshStandardMaterial attach=\"material\" color=\"pink\" />\n    </Cylinder>\n    <Cylinder args={[0.2, 0.4, 0.8]} rotation={[Math.PI / 2, 0, 0]} position={[0, 0.1, 0.75]}>\n      <meshStandardMaterial attach=\"material\" color=\"pink\" />\n    </Cylinder>\n    <Cylinder args={pigLegSize} position={[0.2, -0.5, 0.3]}>\n      <meshStandardMaterial attach=\"material\" color=\"pink\" />\n    </Cylinder>\n    <Cylinder args={pigLegSize} position={[-0.2, -0.5, 0.3]}>\n      <meshStandardMaterial attach=\"material\" color=\"pink\" />\n    </Cylinder>\n    <Cylinder args={pigLegSize} position={[0.2, -0.5, -0.2]}>\n      <meshStandardMaterial attach=\"material\" color=\"pink\" />\n    </Cylinder>\n    <Cylinder args={pigLegSize} position={[-0.2, -0.5, -0.2]}>\n      <meshStandardMaterial attach=\"material\" color=\"pink\" />\n    </Cylinder>\n  </>\n);\n","import React, { MutableRefObject, useRef } from 'react';\nimport { Group, Vector3 } from 'three';\nimport { useFrame } from '@react-three/fiber';\nimport { useControls } from 'leva';\nimport { useKeyPress } from '../utils/useKeyPress';\nimport { Pumpkman } from '../models/Pumpkman';\nimport { Pig } from '../models/Pig';\n\ninterface CharacterProps {\n  character: MutableRefObject<Group>\n}\n\nexport const Character: React.FC<CharacterProps> = ({ character }: CharacterProps) => {\n  const up = useKeyPress(['ArrowUp', 'KeyW']);\n  const down = useKeyPress(['ArrowDown', 'KeyS']);\n  const left = useKeyPress(['ArrowLeft', 'KeyA']);\n  const right = useKeyPress(['ArrowRight', 'KeyD']);\n\n  const velocity = useRef(new Vector3(0, 0, 0));\n  const rotationDirection = useRef(new Vector3(1, 0, 0));\n  const {\n    speed,\n    inertia,\n    turningSpeed,\n  } = useControls({\n    speed: 10,\n    inertia: 5,\n    turningSpeed: 10,\n  });\n\n  useFrame((state, delta) => {\n    velocity.current.lerp(new Vector3(\n      (-left + (+right)),\n      0,\n      (-up + (+down)),\n    ).normalize(), 1 / inertia / speed);\n\n    if (velocity.current.length() > 1) {\n      velocity.current.normalize();\n    }\n\n    rotationDirection.current.normalize().lerp(velocity.current, turningSpeed * delta);\n\n    character.current.setRotationFromAxisAngle(\n      new Vector3(0, 1, 0),\n      Math.atan2(rotationDirection.current.x, rotationDirection.current.z),\n    );\n    character.current.position.addScaledVector(velocity.current, delta * speed);\n  });\n\n  return (\n    <group ref={character} position={[0, 0.75, 0]}>\n      <Pig />\n      <Pumpkman />\n    </group>\n  );\n};\n","import levelImage from '../data/farm.png';\n\nconst loadImage: (src: string) => Promise<HTMLImageElement> = (src) => new Promise((\n  resolve,\n  reject,\n) => {\n  const img = new Image();\n  img.onload = () => resolve(img);\n  img.onerror = reject;\n  img.src = src;\n});\n\nconst colorMap: { [key: string]: string } = {\n  '255,255,255,255': '⬜', // space\n  '255,242,0,255': '🌾', // collectible\n  '34,177,76,255': '🌲',\n  '181,230,29,255': '🟩',\n};\n\nconst splitArray: <T>(\n  array: T[],\n  chunkSize: number\n) => T[][] = (array, chunkSize) => {\n  const result = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    result.push(array.slice(i, i + chunkSize));\n  }\n  return result;\n};\n\nexport const parseImage = async () => {\n  const image = await loadImage(levelImage);\n  const inputCanvas = document.createElement('canvas');\n  const context = inputCanvas.getContext('2d');\n  if (!context) { return []; }\n  const { width, height } = image;\n  context.drawImage(image, 0, 0, width, height);\n  const imageData = context.getImageData(0, 0, width, height).data;\n  return splitArray(splitArray(Array.from(imageData), 4), width);\n};\n\nexport const mapImageToLevel = async () => (await parseImage())\n  .map((row) => row\n    .map((item) => item.join())\n    .map((item) => {\n      if (!colorMap[item]) {\n        colorMap[item] = '?';\n      }\n      return colorMap[item];\n    }));\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAFeSURBVGhD7ZjBDcIwEAQDb1rgQwO8aALRCtVQCR+a4EUNtMAfdCEnnS72+ZBIvHY8UuQEEbLr3TgRq9319O4qYD2MxdOMoDG6Ry6Hx7CHzfm+H/a+1J/IcfPsR+b22vbjvz630LMdakm1iTQjU0JVkpuHlggazQga1RhpryhoLNcIRSo3FEwjSEJTmEZKufGJoBFOQibC+/IdaA6j3lYsa/n1zsrUWDqiRvgkGnOkFBJt6Yga4ZPmMqGFy+taSTCuas2BnjAp3jOZWY2wWD0SIfFWMtCrFgmP6dGmYKoVgk1YSTBQRqRgue9pSZZq6Rn2XJPOkd/TvwFdLYIFp8zCG7FSkECuWrpGIbSpn43k/nOb9Wkj0NXSYq1JLuI54gHOiE6Bj/XnGjgjOgU+TqUDv/wyRSUSqxVRVCKxWnmArlaoTrGKwT3ZSahHgzYEv2p5GSVSKsUsvymaESy67gMGb8CnCuHOmwAAAABJRU5ErkJggg==\"","/*\nAuto-generated by: https://github.com/pmndrs/gltfjsx\n*/\n\nimport * as THREE from 'three';\nimport React, { useRef } from 'react';\nimport { useGLTF } from '@react-three/drei';\nimport { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';\n\ntype GLTFResult = GLTF & {\n  nodes: {\n    ground: THREE.Mesh\n    barn003_1: THREE.Mesh\n    barn003_2: THREE.Mesh\n    barn001_1: THREE.Mesh\n    barn001_2: THREE.Mesh\n    barn002_1: THREE.Mesh\n    barn002_2: THREE.Mesh\n    wheat1: THREE.Mesh\n    wheat2: THREE.Mesh\n    wheat4: THREE.Mesh\n    wheat3: THREE.Mesh\n    Corn1: THREE.Mesh\n    Corn2: THREE.Mesh\n    Corn4: THREE.Mesh\n    Corn3: THREE.Mesh\n    Hedge: THREE.Mesh\n    Bush001: THREE.Mesh\n    Bush002: THREE.Mesh\n    Bush003: THREE.Mesh\n    Bush004: THREE.Mesh\n    Bush005: THREE.Mesh\n    Bush006: THREE.Mesh\n    Bush007: THREE.Mesh\n    Bush008: THREE.Mesh\n    Bush009: THREE.Mesh\n    Bush010: THREE.Mesh\n    Bush011: THREE.Mesh\n    Bush012: THREE.Mesh\n    Bush013: THREE.Mesh\n    Bush014: THREE.Mesh\n    Bush015: THREE.Mesh\n    Bush016: THREE.Mesh\n    Bush017: THREE.Mesh\n    Bush018: THREE.Mesh\n    Bush019: THREE.Mesh\n    Bush020: THREE.Mesh\n    Bush021: THREE.Mesh\n    Bush022: THREE.Mesh\n    Bush023: THREE.Mesh\n    Bush024: THREE.Mesh\n    Bush025: THREE.Mesh\n    Bush026: THREE.Mesh\n    Bush027: THREE.Mesh\n    Bush028: THREE.Mesh\n    Bush029: THREE.Mesh\n    Bush030: THREE.Mesh\n    Bush031: THREE.Mesh\n    Bush032: THREE.Mesh\n    Bush033: THREE.Mesh\n    Bush034: THREE.Mesh\n    Bush035: THREE.Mesh\n    Bush036: THREE.Mesh\n  }\n  materials: {\n    grass: THREE.MeshStandardMaterial\n    barnRoof: THREE.MeshStandardMaterial\n    barnWood: THREE.MeshStandardMaterial\n    wheat: THREE.MeshStandardMaterial\n    corn: THREE.MeshStandardMaterial\n    hedge: THREE.MeshStandardMaterial\n  }\n};\n\nexport const Farm = () => {\n  const group = useRef<THREE.Group>();\n  const { nodes, materials } = useGLTF('/free-to-pay/models/farm.glb') as GLTFResult;\n  return (\n    <group ref={group} dispose={null}>\n      <mesh\n        geometry={nodes.ground.geometry}\n        material={materials.grass}\n        position={[-4.4, 0, -2.68]}\n        scale={[2, 2, 2]}\n      />\n      <group position={[21.62, 6.01, -38.72]} scale={[2, 2, 2]}>\n        <mesh geometry={nodes.barn003_1.geometry} material={nodes.barn003_1.material} />\n        <mesh geometry={nodes.barn003_2.geometry} material={nodes.barn003_2.material} />\n      </group>\n      <group position={[-28.46, 6.01, -14.71]} scale={[2, 2, 2]}>\n        <mesh geometry={nodes.barn001_1.geometry} material={nodes.barn001_1.material} />\n        <mesh geometry={nodes.barn001_2.geometry} material={nodes.barn001_2.material} />\n      </group>\n      <group position={[5.89, 6.01, 11.1]} scale={[2, 2, 2]}>\n        <mesh geometry={nodes.barn002_1.geometry} material={nodes.barn002_1.material} />\n        <mesh geometry={nodes.barn002_2.geometry} material={nodes.barn002_2.material} />\n      </group>\n      <mesh\n        geometry={nodes.wheat1.geometry}\n        material={nodes.wheat1.material}\n        position={[-29.69, 1, 18.61]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.wheat2.geometry}\n        material={nodes.wheat2.material}\n        position={[-17.49, 1, 18.61]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.wheat4.geometry}\n        material={nodes.wheat4.material}\n        position={[-5.56, 1, 18.61]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.wheat3.geometry}\n        material={nodes.wheat3.material}\n        position={[6.37, 1, 18.61]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Corn1.geometry}\n        material={nodes.Corn1.material}\n        position={[-41.55, 1, -39.58]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Corn2.geometry}\n        material={nodes.Corn2.material}\n        position={[-29.35, 1, -39.58]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Corn4.geometry}\n        material={nodes.Corn4.material}\n        position={[-5.49, 1, -39.58]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Corn3.geometry}\n        material={nodes.Corn3.material}\n        position={[-17.42, 1, -39.58]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Hedge.geometry}\n        material={nodes.Hedge.material}\n        position={[-53.47, 1, -51.5]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush001.geometry}\n        material={nodes.Bush001.material}\n        position={[-37.4, 1, -3.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush002.geometry}\n        material={nodes.Bush002.material}\n        position={[-41.4, 1, -3.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush003.geometry}\n        material={nodes.Bush003.material}\n        position={[-35.4, 1, -5.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush004.geometry}\n        material={nodes.Bush004.material}\n        position={[-33.4, 1, -9.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush005.geometry}\n        material={nodes.Bush005.material}\n        position={[-39.4, 1, -9.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush006.geometry}\n        material={nodes.Bush006.material}\n        position={[-43.4, 1, -9.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush007.geometry}\n        material={nodes.Bush007.material}\n        position={[-39.4, 1, -13.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush008.geometry}\n        material={nodes.Bush008.material}\n        position={[8.6, 1, 2.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush009.geometry}\n        material={nodes.Bush009.material}\n        position={[12.6, 1, 2.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush010.geometry}\n        material={nodes.Bush010.material}\n        position={[14.6, 1, -1.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush011.geometry}\n        material={nodes.Bush011.material}\n        position={[22.6, 1, -3.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush012.geometry}\n        material={nodes.Bush012.material}\n        position={[26.6, 1, -9.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush013.geometry}\n        material={nodes.Bush013.material}\n        position={[32.6, 1, -5.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush014.geometry}\n        material={nodes.Bush014.material}\n        position={[28.6, 1, -1.68]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush015.geometry}\n        material={nodes.Bush015.material}\n        position={[22.6, 1, 0.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush016.geometry}\n        material={nodes.Bush016.material}\n        position={[16.6, 1, 2.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush017.geometry}\n        material={nodes.Bush017.material}\n        position={[16.6, 1, 8.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush018.geometry}\n        material={nodes.Bush018.material}\n        position={[22.6, 1, 8.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush019.geometry}\n        material={nodes.Bush019.material}\n        position={[24.6, 1, 4.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush020.geometry}\n        material={nodes.Bush020.material}\n        position={[28.6, 1, 6.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush021.geometry}\n        material={nodes.Bush021.material}\n        position={[32.6, 1, 2.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush022.geometry}\n        material={nodes.Bush022.material}\n        position={[30.6, 1, 10.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush023.geometry}\n        material={nodes.Bush023.material}\n        position={[26.6, 1, 12.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush024.geometry}\n        material={nodes.Bush024.material}\n        position={[32.6, 1, 14.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush025.geometry}\n        material={nodes.Bush025.material}\n        position={[32.6, 1, 18.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush026.geometry}\n        material={nodes.Bush026.material}\n        position={[20.6, 1, 16.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush027.geometry}\n        material={nodes.Bush027.material}\n        position={[24.6, 1, 20.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush028.geometry}\n        material={nodes.Bush028.material}\n        position={[26.6, 1, 24.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush029.geometry}\n        material={nodes.Bush029.material}\n        position={[30.6, 1, 24.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush030.geometry}\n        material={nodes.Bush030.material}\n        position={[18.6, 1, 24.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush031.geometry}\n        material={nodes.Bush031.material}\n        position={[16.6, 1, 30.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush032.geometry}\n        material={nodes.Bush032.material}\n        position={[24.6, 1, 30.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush033.geometry}\n        material={nodes.Bush033.material}\n        position={[30.6, 1, 28.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush034.geometry}\n        material={nodes.Bush034.material}\n        position={[34.6, 1, 34.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush035.geometry}\n        material={nodes.Bush035.material}\n        position={[24.6, 1, 34.32]}\n        scale={[2, 2, 2]}\n      />\n      <mesh\n        geometry={nodes.Bush036.geometry}\n        material={nodes.Bush036.material}\n        position={[18.6, 1, 36.32]}\n        scale={[2, 2, 2]}\n      />\n    </group>\n  );\n};\n\nuseGLTF.preload('/free-to-pay/models/farm.glb');\n","import React, {\n  useEffect, useMemo, useState,\n} from 'react';\nimport { mapImageToLevel } from '../utils/levelConverter';\nimport { Farm } from '../models/Farm';\n\nexport const Level: React.FC = () => {\n  const [level, setLevel] = useState<string[][]>([]);\n\n  useEffect(() => {\n    mapImageToLevel().then((loadedLevel) => setLevel(loadedLevel));\n  });\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const size = useMemo<[number, number]>(() => ([\n    level.length,\n    level[0]?.length || 0,\n  ]), [level]);\n\n  return (\n    <group>\n      <Farm />\n    </group>\n  );\n};\n","import { Plane } from '@react-three/drei';\nimport React from 'react';\nimport { ThreeEvent } from '@react-three/fiber';\n\ninterface LevelProps {\n  size: [number, number],\n  onPointerDown?: (event: ThreeEvent<PointerEvent>) => void\n  onPointerMove?: (event: ThreeEvent<PointerEvent>) => void\n  onPointerUp?: (event: ThreeEvent<PointerEvent>) => void\n  onPointerLeave?: (event: ThreeEvent<PointerEvent>) => void\n}\n\nexport const EventPlane: React.FC<LevelProps> = ({\n  size: [width, height],\n  onPointerDown = () => null,\n  onPointerMove = () => null,\n  onPointerUp = () => null,\n  onPointerLeave = () => null,\n}: LevelProps) => (\n  <Plane\n    rotation={[-Math.PI / 2, 0, Math.PI / 2]}\n    args={[height, width]}\n    position={[0, 1, 0]}\n    visible={false}\n    onPointerDown={onPointerDown}\n    onPointerMove={onPointerMove}\n    onPointerUp={onPointerUp}\n    onPointerLeave={onPointerLeave}\n  >\n    <meshStandardMaterial\n      attach=\"material\"\n      roughness={1}\n      metalness={0}\n      opacity={1}\n      transparent\n      wireframe\n    />\n  </Plane>\n);\n","/*\nAuto-generated by: https://github.com/pmndrs/gltfjsx\n*/\n\nimport * as THREE from 'three';\nimport { Group, Mesh } from 'three';\nimport React, { MutableRefObject, useRef } from 'react';\nimport { useGLTF } from '@react-three/drei';\nimport { GLTF } from 'three/examples/jsm/loaders/GLTFLoader';\nimport { useFrame } from '@react-three/fiber';\n\ntype GLTFResult = GLTF & {\n  nodes: {\n    point: THREE.Mesh\n    cone: THREE.Mesh\n    circle: THREE.Mesh\n  }\n};\n\ninterface PointerProps {\n  pointer: MutableRefObject<Group>\n}\n\nexport const Pointer: React.FC<PointerProps> = ({ pointer }: PointerProps) => {\n  const { nodes } = useGLTF('/free-to-pay/models/pointer.glb') as GLTFResult;\n  const cone = useRef<Mesh>(null!);\n\n  useFrame(({ clock }, delta) => {\n    pointer.current.rotateY(delta * 2);\n    cone.current.position.setY(Math.sin(clock.elapsedTime * 5) * 0.2 + 1);\n  });\n\n  return (\n    <group scale={[2, 2, 2]} ref={pointer} dispose={null}>\n      <mesh geometry={nodes.point.geometry} material={nodes.point.material} />\n      <mesh\n        ref={cone}\n        geometry={nodes.cone.geometry}\n        material={nodes.cone.material}\n        position={[0, 1.01, 0]}\n        scale={[0.51, -0.68, 0.51]}\n      />\n      <mesh geometry={nodes.circle.geometry} material={nodes.circle.material} />\n    </group>\n  );\n};\n\nuseGLTF.preload('/free-to-pay/models/pointer.glb');\n","import React, { PropsWithChildren, useRef } from 'react';\nimport { Group, Vector3 } from 'three';\nimport { ThreeEvent, useFrame } from '@react-three/fiber';\nimport { PerspectiveCamera } from '@react-three/drei';\nimport { Character } from './Character';\nimport { Level } from './Level';\nimport { EventPlane } from './EventPlane';\nimport { Pointer } from '../models/Pointer';\n\ninterface GameSceneProps { }\n\nexport const GameScene: React.FC<GameSceneProps> = ({\n  children,\n}: PropsWithChildren<GameSceneProps>) => {\n  const character = useRef<Group>(null!);\n  const pointer = useRef<Group>(null!);\n  const interestPoint = useRef(new Vector3(0, 0, 0));\n\n  const onPointerMove = (event: ThreeEvent<PointerEvent>) => {\n    pointer.current.position.set(...event.point.toArray());\n  };\n\n  useFrame(({ camera }) => {\n    interestPoint.current.lerp(\n      pointer.current.position.clone().lerp(character.current.position, 2 / 3),\n      0.01,\n    );\n\n    camera.position.set(...new Vector3(0, 60, 35).add(interestPoint.current).toArray());\n\n    camera.lookAt(interestPoint.current);\n  });\n\n  return (\n    <>\n      <Level />\n      <pointLight color=\"white\" intensity={2} position={[10, 20, 5]} />\n      <PerspectiveCamera makeDefault position={[0, 40, 25]} zoom={1.5} />\n      <ambientLight color=\"yellow\" intensity={0.2} />\n      <group>\n        <EventPlane\n          size={[300, 300]}\n          onPointerMove={onPointerMove}\n        />\n      </group>\n      <Pointer pointer={pointer} />\n      <Character character={character} />\n      {children}\n    </>\n  );\n};\n","import { ReportHandler } from 'web-vitals';\n\nexport const reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n","import React, { Suspense } from 'react';\nimport { Canvas } from '@react-three/fiber';\nimport { MapControls } from '@react-three/drei';\nimport { GameScene } from '../components/GameScene';\n\nexport const Game: React.FC = () => (\n  <Canvas\n    onCreated={({ gl }) => {\n      gl.setClearColor('#000000');\n    }}\n  >\n    <MapControls enabled={false} />\n    <Suspense fallback={null}>\n      <GameScene />\n    </Suspense>\n  </Canvas>\n);\n","import React from 'react';\nimport { Game } from './core/Game';\n\nexport const App = () => (\n  <div\n    style={{\n      height: '100vh',\n      width: '100vw',\n    }}\n  >\n    <Game />\n  </div>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport { reportWebVitals } from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}