(this["webpackJsonpfree-to-pay"]=this["webpackJsonpfree-to-pay"]||[]).push([[0],{47:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),o=r(22),i=r.n(o),n=(r(47),r(17)),m=r(13),c=r(5),l=r(71),j=r(38),u=r(7),g=function(e){var t=Object(a.useState)(!1),r=Object(u.a)(t,2),s=r[0],o=r[1],i=Array.isArray(e)?e:[e],n=Object(a.useCallback)((function(e){!s&&i.includes(e.code)&&o(!0)}),[].concat(Object(m.a)(i),[s])),c=Object(a.useCallback)((function(e){s&&i.includes(e.code)&&o(!1)}),[].concat(Object(m.a)(i),[s])),l=Object(a.useCallback)((function(){o(!1)}),[]);return Object(a.useEffect)((function(){return window.addEventListener("keydown",n),window.addEventListener("keyup",c),window.addEventListener("blur",l),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",c),window.removeEventListener("blur",l)}}),[n,c,l]),s},h=r(70),b=r(6),y=function(e){var t=e.top,r=Object(h.a)("/free-to-pay/models/pumpkman.glb"),a=r.nodes,s=r.materials;return Object(b.jsx)("group",{rotation:[0,-Math.PI/2,0],children:Object(b.jsxs)("group",{ref:t,dispose:null,position:[0,-.5,0],children:[Object(b.jsxs)("group",{position:[-.2,2.41,0],scale:[.21,.21,.21],children:[Object(b.jsx)("mesh",{geometry:a.Cube.geometry,material:s.head}),Object(b.jsx)("mesh",{geometry:a.Cube_1.geometry,material:s.tail}),Object(b.jsx)("mesh",{geometry:a.Cube_2.geometry,material:s.eyes}),Object(b.jsx)("mesh",{geometry:a.Cube_3.geometry,material:s.body})]}),Object(b.jsx)("mesh",{geometry:a.vest.geometry,material:a.vest.material,position:[-.2,2.41,0],scale:[.21,.21,.21]}),Object(b.jsx)("mesh",{geometry:a.pants.geometry,material:a.pants.material,position:[-.2,2.41,0],scale:[.21,.21,.21]})]})})};h.a.preload("/free-to-pay/models/pumpkman.glb");var p,O=r(68);function x(e){var t=e.characterState,r=Object(a.useRef)(),s=Object(h.a)("/free-to-pay/models/piggy.glb"),o=s.nodes,i=s.materials,n=s.animations,m=Object(O.a)(n,r).actions;return Object(a.useEffect)((function(){return t===p.IDLE?(m["piggy's resting state"].reset().fadeIn(.2).play(),function(){m["piggy's resting state"].fadeOut(.5)}):(m["average piggy speed"].timeScale=2,m["average piggy speed"].reset().play(),function(){m["average piggy speed"].fadeOut(.2)})}),[t]),Object(b.jsx)("group",{ref:r,dispose:null,children:Object(b.jsxs)("group",{position:[0,.2,-.49],children:[Object(b.jsx)("primitive",{object:o.piggy_booty}),Object(b.jsxs)("group",{name:"pig",children:[Object(b.jsx)("skinnedMesh",{geometry:o.Cube003.geometry,material:i["pig body"],skeleton:o.Cube003.skeleton}),Object(b.jsx)("skinnedMesh",{geometry:o.Cube003_1.geometry,material:i.fangs,skeleton:o.Cube003_1.skeleton})]})]})})}!function(e){e[e.IDLE=0]="IDLE",e[e.ACCELERATION=1]="ACCELERATION",e[e.RUN=2]="RUN",e[e.SLOWDOWN=3]="SLOWDOWN"}(p||(p={})),h.a.preload("/piggy.glb");var d=new c.Vector3(0,1,0),B=function(e){var t=e.character,r=e.pointer,s=Object(a.useRef)(null),o=Object(a.useRef)(new c.Vector3(0,0,0)),i=Object(a.useRef)(new c.Vector3(1,0,0)),m=Object(a.useRef)(new c.Vector3(1,0,0)),l=g(["ArrowUp","KeyW"]),h=g(["ArrowDown","KeyS"]),O=g(["ArrowLeft","KeyA"]),B=g(["ArrowRight","KeyD"]),f=Object(a.useState)(p.IDLE),v=Object(u.a)(f,2),w=v[0],C=v[1],L=Object(j.a)({speed:20,turningSpeed:20,inertia:1}),k=L.speed,E=L.turningSpeed,A=L.inertia;return Object(n.b)((function(e,a){var n=new c.Vector3(+B-O,0,+h-l);o.current.lerp(n.normalize(),1/A/k),o.current.length()>1&&o.current.normalize(),C(function(e,t){return e<.1?p.IDLE:e>.9?p.RUN:0===t?p.SLOWDOWN:p.ACCELERATION}(o.current.length(),n.length())),i.current.lerp(o.current,E*a).normalize(),m.current.subVectors(r.current.position,t.current.position).normalize();var j=Math.atan2(i.current.x,i.current.z),u=Math.atan2(m.current.x,m.current.z);t.current.setRotationFromAxisAngle(d,j),s.current.setRotationFromAxisAngle(d,u-j),t.current.position.addScaledVector(o.current,a*k)})),Object(b.jsxs)("group",{ref:t,position:[0,.75,0],children:[Object(b.jsx)(x,{characterState:w}),Object(b.jsx)(y,{top:s})]})},f=function(){var e=Object(a.useRef)(),t=Object(h.a)("/free-to-pay/models/farm.glb"),r=t.nodes,s=t.materials;return Object(b.jsxs)("group",{ref:e,dispose:null,children:[Object(b.jsx)("mesh",{geometry:r.ground.geometry,material:s.grass,position:[-4.4,0,-2.68],scale:[2,2,2]}),Object(b.jsxs)("group",{position:[21.62,6.01,-38.72],scale:[2,2,2],children:[Object(b.jsx)("mesh",{geometry:r.barn003_1.geometry,material:r.barn003_1.material}),Object(b.jsx)("mesh",{geometry:r.barn003_2.geometry,material:r.barn003_2.material})]}),Object(b.jsxs)("group",{position:[-28.46,6.01,-14.71],scale:[2,2,2],children:[Object(b.jsx)("mesh",{geometry:r.barn001_1.geometry,material:r.barn001_1.material}),Object(b.jsx)("mesh",{geometry:r.barn001_2.geometry,material:r.barn001_2.material})]}),Object(b.jsxs)("group",{position:[5.89,6.01,11.1],scale:[2,2,2],children:[Object(b.jsx)("mesh",{geometry:r.barn002_1.geometry,material:r.barn002_1.material}),Object(b.jsx)("mesh",{geometry:r.barn002_2.geometry,material:r.barn002_2.material})]}),Object(b.jsx)("mesh",{geometry:r.wheat1.geometry,material:r.wheat1.material,position:[-29.69,1,18.61],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.wheat2.geometry,material:r.wheat2.material,position:[-17.49,1,18.61],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.wheat4.geometry,material:r.wheat4.material,position:[-5.56,1,18.61],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.wheat3.geometry,material:r.wheat3.material,position:[6.37,1,18.61],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Corn1.geometry,material:r.Corn1.material,position:[-41.55,1,-39.58],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Corn2.geometry,material:r.Corn2.material,position:[-29.35,1,-39.58],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Corn4.geometry,material:r.Corn4.material,position:[-5.49,1,-39.58],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Corn3.geometry,material:r.Corn3.material,position:[-17.42,1,-39.58],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Hedge.geometry,material:r.Hedge.material,position:[-53.47,1,-51.5],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush001.geometry,material:r.Bush001.material,position:[-37.4,1,-3.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush002.geometry,material:r.Bush002.material,position:[-41.4,1,-3.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush003.geometry,material:r.Bush003.material,position:[-35.4,1,-5.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush004.geometry,material:r.Bush004.material,position:[-33.4,1,-9.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush005.geometry,material:r.Bush005.material,position:[-39.4,1,-9.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush006.geometry,material:r.Bush006.material,position:[-43.4,1,-9.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush007.geometry,material:r.Bush007.material,position:[-39.4,1,-13.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush008.geometry,material:r.Bush008.material,position:[8.6,1,2.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush009.geometry,material:r.Bush009.material,position:[12.6,1,2.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush010.geometry,material:r.Bush010.material,position:[14.6,1,-1.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush011.geometry,material:r.Bush011.material,position:[22.6,1,-3.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush012.geometry,material:r.Bush012.material,position:[26.6,1,-9.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush013.geometry,material:r.Bush013.material,position:[32.6,1,-5.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush014.geometry,material:r.Bush014.material,position:[28.6,1,-1.68],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush015.geometry,material:r.Bush015.material,position:[22.6,1,.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush016.geometry,material:r.Bush016.material,position:[16.6,1,2.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush017.geometry,material:r.Bush017.material,position:[16.6,1,8.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush018.geometry,material:r.Bush018.material,position:[22.6,1,8.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush019.geometry,material:r.Bush019.material,position:[24.6,1,4.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush020.geometry,material:r.Bush020.material,position:[28.6,1,6.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush021.geometry,material:r.Bush021.material,position:[32.6,1,2.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush022.geometry,material:r.Bush022.material,position:[30.6,1,10.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush023.geometry,material:r.Bush023.material,position:[26.6,1,12.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush024.geometry,material:r.Bush024.material,position:[32.6,1,14.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush025.geometry,material:r.Bush025.material,position:[32.6,1,18.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush026.geometry,material:r.Bush026.material,position:[20.6,1,16.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush027.geometry,material:r.Bush027.material,position:[24.6,1,20.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush028.geometry,material:r.Bush028.material,position:[26.6,1,24.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush029.geometry,material:r.Bush029.material,position:[30.6,1,24.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush030.geometry,material:r.Bush030.material,position:[18.6,1,24.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush031.geometry,material:r.Bush031.material,position:[16.6,1,30.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush032.geometry,material:r.Bush032.material,position:[24.6,1,30.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush033.geometry,material:r.Bush033.material,position:[30.6,1,28.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush034.geometry,material:r.Bush034.material,position:[34.6,1,34.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush035.geometry,material:r.Bush035.material,position:[24.6,1,34.32],scale:[2,2,2]}),Object(b.jsx)("mesh",{geometry:r.Bush036.geometry,material:r.Bush036.material,position:[18.6,1,36.32],scale:[2,2,2]})]})};h.a.preload("/free-to-pay/models/farm.glb");var v=function(){return Object(b.jsx)("group",{children:Object(b.jsx)(f,{})})},w=r(69),C=function(e){var t=Object(u.a)(e.size,2),r=t[0],a=t[1],s=e.onPointerDown,o=void 0===s?function(){return null}:s,i=e.onPointerMove,n=void 0===i?function(){return null}:i,m=e.onPointerUp,c=void 0===m?function(){return null}:m,l=e.onPointerLeave,j=void 0===l?function(){return null}:l;return Object(b.jsx)(w.a,{rotation:[-Math.PI/2,0,Math.PI/2],args:[a,r],position:[0,1,0],visible:!1,onPointerDown:o,onPointerMove:n,onPointerUp:c,onPointerLeave:j,children:Object(b.jsx)("meshStandardMaterial",{attach:"material",roughness:1,metalness:0,opacity:1,transparent:!0,wireframe:!0})})},L=function(e){var t=e.pointer,r=Object(h.a)("/free-to-pay/models/pointer.glb").nodes,s=Object(a.useRef)(null);return Object(n.b)((function(e,r){var a=e.clock;t.current.rotateY(2*r),s.current.position.setY(.2*Math.sin(5*a.elapsedTime)+1)})),Object(b.jsxs)("group",{scale:[2,2,2],ref:t,dispose:null,children:[Object(b.jsx)("mesh",{geometry:r.point.geometry,material:r.point.material}),Object(b.jsx)("mesh",{ref:s,geometry:r.cone.geometry,material:r.cone.material,position:[0,1.01,0],scale:[.51,-.68,.51]}),Object(b.jsx)("mesh",{geometry:r.circle.geometry,material:r.circle.material})]})};h.a.preload("/free-to-pay/models/pointer.glb");var k,E=function(e){var t=e.children,r=Object(a.useRef)(null),s=Object(a.useRef)(null),o=Object(a.useRef)(new c.Vector3(0,0,0)),i=Object(j.a)({cameraSpeed:.01,cameraPosition:.6}),u=i.cameraSpeed,g=i.cameraPosition;return Object(n.b)((function(e){var t,a=e.camera;o.current.lerp(s.current.position.clone().lerp(r.current.position,g),u),(t=a.position).set.apply(t,Object(m.a)(new c.Vector3(0,35,15).add(o.current).toArray())),a.lookAt(o.current)})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{}),Object(b.jsx)("pointLight",{color:"white",intensity:2,position:[10,20,5]}),Object(b.jsx)(l.a,{makeDefault:!0,position:[0,40,25],zoom:1.5}),Object(b.jsx)("ambientLight",{color:"yellow",intensity:.2}),Object(b.jsx)("group",{children:Object(b.jsx)(C,{size:[300,300],onPointerMove:function(e){s.current.position.copy(e.point)}})}),Object(b.jsx)(L,{pointer:s}),Object(b.jsx)(B,{character:r,pointer:s}),t]})},A=function(){return Object(b.jsx)(n.a,{onCreated:function(e){e.gl.setClearColor("#000000")},children:Object(b.jsx)(a.Suspense,{fallback:null,children:Object(b.jsx)(E,{})})})},R=function(){return Object(b.jsx)("div",{style:{height:"100vh",width:"100vw"},children:Object(b.jsx)(A,{})})};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root")),k&&k instanceof Function&&r.e(3).then(r.bind(null,72)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;t(k),r(k),a(k),s(k),o(k)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.f1f40608.chunk.js.map